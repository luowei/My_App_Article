## 我的浏览器 - 一个可个性化的自定义浏览器

### 背后的故事

说起我的浏览器，那是2015年春天刚过完没多久，正值5月底，依稀还记得那时我是住在民生路的羽北小区，因为那时刚搬去新房子不久，刚买的墙纸与壁画，一个人在一个蛮温馨房间里，带着欣慰的心情独自坐一台山寨的iMac前，思索着接下来打算做点什么。

![民生路房间]()

记得我当时到公司应该有半年多了，做不是浏览器项目，后来有leader说后期会让我做浏览器，所以当时就开始研究起了浏览器。研究浏览器，当时有两种核心组件在并行的用的，市面上主要是基于UIWebView的浏览居多，因为坑少，用了很多年了。少量的浏览器从iOS8开始采用WKWebView核心，因为用WKWebView核心加载网页比UIWebView核心快太多。但WKWebView当时作为一个新事物坑还是比较多的。

记得2014年10月那次苹果更新到了iOS10，对iOS10系统来说两个非常重要的新东西，一个是WKWebView，一个是Keyboard Extension。可幸的是我都接触了，而且争对它们两都做了优秀的工具App，后面我的浏览器就主要基于这个WKWebView构建的。

我的话，前期争对我的浏览器也兼容了两种核心，当时其实我并没有想要自己做一款浏览器的想法，只是为以研究浏览器，比较好做法是自己写一个实现一遍。虽然这样比较累，但这样对我来说成效是最大的。因为当前公司的浏览器项目确实有点臃肿。所以自己怀着重新架构，自己重写一个轻量的Demo浏览器。

说到自己重新写一个，首先就用UIWebView做了一遍，顺便熟悉了JSBridage的用法，发现没有想象的那个难简单，能在UIWebView上可做的事情挺多的，也不麻烦，很快就实现了一个基于UIWebView的浏览器，主要是支持多窗口，有历史与书签管理。

后来就尝试参考了github诸多案例，做一个既兼容UIWebView又兼容WKWebView的组件，最后实现下来，发现总还是免不了逻辑和代码变得更复杂了，变得更加难以维护，问题复杂化了，后面不断的功能变更与版本迭代时问题太多，得不尝失。做一个同时兼容UIWebView和WKWebView的XXWebView组件不合理。

不知道什么时候，可能是熟悉WKWebView后，了解他更多的特性与优点后，就比较排斥再用UIWebView了。所以就想着把之前做的半拉子的Demo浏览器进一步优化完善，直至后来新开git分支完全用WKWebView实现，把与UIWebView相关代码与逻辑都删除。终于解脱了，至少我自己有一个App不用在UIWebView与WKWebView之间的兼容性来回折腾了。



